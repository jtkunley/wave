$.fn.wave=function(e){var t=5;var n=$.extend({wavelength:20,amplitude:60,phase:0,width:600,color:"DodgerBlue",bgColor:"",thickness:3,paddingH:0,paddingV:20,grid:false,gridSize:20,gridThickness:1,gridColor:"lightBlue"},e);var r=n.width+n.paddingH*2;var i=n.amplitude*2+n.paddingV*2;this.css({width:r,height:i,display:"inline-block"});var s=document.createElement("canvas");s.width=r;s.height=i;document.getElementById(this.attr("id")).appendChild(s);var o=document.createElement("canvas");o.width=r;o.height=i;var u=o.getContext("2d");u.clearRect(0,0,o.width,o.height);if(n.bgColor!=""){u.fillStyle=n.bgColor;u.fillRect(0,0,o.width,o.height)}if(n.grid){u.strokeStyle=n.gridColor;u.lineWidth=n.gridThickness;var a=n.gridSize;u.beginPath();for(var f=1;f<i/a;f++){u.moveTo(0,f*a);u.lineTo(r,f*a)}for(var l=1;l<r/a;l++){u.moveTo(l*a,0);u.lineTo(l*a,i)}u.stroke()}u.strokeStyle=n.color;u.lineWidth=n.thickness;var c=n.phase*Math.PI/180;var h=n.amplitude-n.thickness/2;var p=2*Math.PI*(1/(n.wavelength*t));var d=i/2;var v,m;u.beginPath();for(var f=0;f<n.width;f++){v=h*Math.sin(c+p*f)+d;m=h*Math.sin(c+p*(f+1))+d;u.moveTo(f+n.paddingH,v);u.lineTo(f+n.paddingH+1,m)}u.stroke();var g=s.getContext("2d");g.clearRect(0,0,n.width,n.height);g.drawImage(o,0,0);return this};